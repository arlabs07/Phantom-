<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Phantom - Cloud VPN Browser</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Inter',system-ui,sans-serif;background:#000;color:#fff;overflow:hidden;user-select:none}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#1a1a1a}::-webkit-scrollbar-thumb{background:#8b5cf6;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#7c3aed}.gradient-border{position:relative;background:#000;border:2px solid transparent;background-clip:padding-box}.gradient-border::before{content:'';position:absolute;inset:-2px;background:linear-gradient(45deg,#8b5cf6,#a78bfa,#8b5cf6);border-radius:inherit;z-index:-1;opacity:.5;animation:rotate 3s linear infinite}@keyframes rotate{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}.tab{transition:all .3s cubic-bezier(.4,0,.2,1)}.tab:hover{transform:translateY(-2px)}.tab.active{background:linear-gradient(135deg,#8b5cf6 0%,#7c3aed 100%)}.loading-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:1000}.spinner{border:4px solid #2a2a2a;border-top:4px solid #8b5cf6;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.browser-view{width:100%;height:100%;object-fit:contain;background:#fff;cursor:pointer}.status-dot{width:8px;height:8px;border-radius:50%;animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@media(max-width:768px){.desktop-only{display:none!important}.mobile-icon{display:inline-block!important}}</style></head><body><div class="flex flex-col h-screen"><div class="bg-black border-b border-gray-800 p-3"><div class="flex items-center gap-3"><div class="flex items-center gap-2 text-purple-500"><i class="fas fa-shield-alt text-2xl"></i><h1 class="text-xl font-bold hidden md:inline">Phantom</h1></div><div class="flex-1 flex items-center gap-2 bg-gray-900 rounded-lg px-4 py-2 gradient-border"><button onclick="goBack()" class="text-gray-400 hover:text-white transition"><i class="fas fa-arrow-left"></i></button><button onclick="goForward()" class="text-gray-400 hover:text-white transition mr-2"><i class="fas fa-arrow-right"></i></button><button onclick="reloadPage()" class="text-gray-400 hover:text-white transition mr-2"><i class="fas fa-sync-alt" id="reloadIcon"></i></button><div class="flex items-center gap-2"><i class="fas fa-lock text-purple-500"></i><div class="status-dot bg-green-500" title="Connected via cloud proxy"></div></div><input type="text" id="urlInput" placeholder="Enter URL or search..." class="flex-1 bg-transparent outline-none text-white placeholder-gray-500 ml-2" onkeypress="handleEnter(event)"><button onclick="navigate()" class="text-purple-500 hover:text-purple-400 transition ml-2"><i class="fas fa-arrow-right"></i></button></div><button onclick="openNewTab()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition hidden md:block"><i class="fas fa-plus mr-2"></i><span class="desktop-only">New</span></button><button onclick="toggleAI()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition"><i class="fas fa-robot"></i></button></div></div><div class="bg-gray-900 border-b border-gray-800 px-3 py-2 overflow-x-auto flex gap-2" id="tabsContainer"></div><div class="flex-1 relative overflow-hidden bg-white"><div id="loadingOverlay" class="loading-overlay hidden"><div class="text-center"><div class="spinner mx-auto mb-4"></div><p class="text-gray-400">Loading via cloud...</p></div></div><img id="browserView" class="browser-view" alt="Browser content"><div id="aiPanel" class="absolute top-0 right-0 w-full md:w-96 h-full bg-gray-900 border-l border-gray-800 transform translate-x-full transition-transform duration-300 z-50"><div class="flex flex-col h-full"><div class="p-4 border-b border-gray-800 flex justify-between items-center"><h2 class="text-lg font-bold text-purple-500"><i class="fas fa-robot mr-2"></i>AI Assistant</h2><button onclick="toggleAI()" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button></div><div id="aiChat" class="flex-1 overflow-y-auto p-4 space-y-3"></div><div class="p-4 border-t border-gray-800"><div class="flex gap-2"><input type="text" id="aiInput" placeholder="Ask AI anything..." class="flex-1 bg-gray-800 rounded-lg px-4 py-2 outline-none text-white" onkeypress="handleAIEnter(event)"><button onclick="sendAIMessage()" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition"><i class="fas fa-paper-plane"></i></button></div></div></div></div></div></div><script>const SESSION_ID=Date.now().toString();let tabs=[{id:Date.now(),url:'https://www.google.com',title:'New Tab',active:true}];let currentTabId=tabs[0].id;let isLoading=false;function showLoading(){document.getElementById('loadingOverlay').classList.remove('hidden');document.getElementById('reloadIcon').classList.add('fa-spin')}function hideLoading(){document.getElementById('loadingOverlay').classList.add('hidden');document.getElementById('reloadIcon').classList.remove('fa-spin')}function renderTabs(){const container=document.getElementById('tabsContainer');container.innerHTML=tabs.map(tab=>`<div class="tab flex items-center gap-2 px-4 py-2 rounded-lg cursor-pointer min-w-max ${tab.active?'active bg-purple-600':'bg-gray-800 hover:bg-gray-700'}" onclick="switchTab(${tab.id})"><i class="fas fa-globe mobile-icon hidden md:inline"></i><span class="desktop-only max-w-[150px] truncate">${tab.title}</span><button onclick="closeTab(${tab.id},event)" class="ml-2 text-gray-400 hover:text-white"><i class="fas fa-times text-xs"></i></button></div>`).join('');updateCurrentTab()}function openNewTab(){const newTab={id:Date.now(),url:'https://www.google.com',title:'New Tab',active:false};tabs.push(newTab);renderTabs()}function switchTab(tabId){tabs=tabs.map(t=>({...t,active:t.id===tabId}));currentTabId=tabId;renderTabs()}async function closeTab(tabId,event){event?.stopPropagation();if(tabs.length===1)return;try{await fetch('/api/close-tab',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:SESSION_ID,tabId})})}catch(e){console.error('Close tab error:',e)}tabs=tabs.filter(t=>t.id!==tabId);if(currentTabId===tabId){tabs[0].active=true;currentTabId=tabs[0].id}renderTabs()}function updateCurrentTab(){const tab=tabs.find(t=>t.id===currentTabId);if(tab){document.getElementById('urlInput').value=tab.url}}async function loadURL(url){if(!url||isLoading)return;isLoading=true;showLoading();if(!url.match(/^https?:\/\//)){url=url.includes('.')?url:'search:'+url}try{const response=await fetch('/api/navigate',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url,sessionId:SESSION_ID,tabId:currentTabId})});const data=await response.json();if(data.success){document.getElementById('browserView').src='data:image/jpeg;base64,'+data.screenshot;const tab=tabs.find(t=>t.id===currentTabId);if(tab){tab.url=data.url;tab.title=data.title||'Untitled'}renderTabs()}else{throw new Error(data.error)}}catch(error){console.error('Load error:',error);alert('Failed to load page: '+error.message)}finally{hideLoading();isLoading=false}}function navigate(){const url=document.getElementById('urlInput').value;loadURL(url)}function handleEnter(e){if(e.key==='Enter')navigate()}async function reloadPage(){const tab=tabs.find(t=>t.id===currentTabId);if(tab)await loadURL(tab.url)}async function goBack(){await performAction('back')}async function goForward(){await performAction('forward')}async function performAction(action,data={}){if(isLoading)return;showLoading();try{const response=await fetch('/api/action',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({action,sessionId:SESSION_ID,tabId:currentTabId,data})});const result=await response.json();if(result.success&&result.screenshot){document.getElementById('browserView').src='data:image/jpeg;base64,'+result.screenshot;const tab=tabs.find(t=>t.id===currentTabId);if(tab){tab.url=result.url;tab.title=result.title}renderTabs()}}catch(error){console.error('Action error:',error)}finally{hideLoading()}}function toggleAI(){document.getElementById('aiPanel').classList.toggle('translate-x-full')}async function sendAIMessage(){const input=document.getElementById('aiInput');const message=input.value.trim();if(!message)return;appendAIMessage(message,'user');input.value='';try{const response=await fetch(`https://text.pollinations.ai/${encodeURIComponent(message)}?system=${encodeURIComponent('You are a helpful AI assistant for a VPN browser. Provide concise and accurate answers.')}&model=gemini-search`);const answer=await response.text();appendAIMessage(answer,'ai')}catch(error){appendAIMessage('Sorry, I encountered an error. Please try again.','ai')}}function appendAIMessage(text,sender){const chat=document.getElementById('aiChat');const div=document.createElement('div');div.className=`p-3 rounded-lg ${sender==='user'?'bg-purple-600 ml-8':'bg-gray-800 mr-8'}`;div.innerHTML=`<div class="flex items-start gap-2"><i class="fas ${sender==='user'?'fa-user':'fa-robot'} mt-1"></i><p class="flex-1 text-sm">${text}</p></div>`;chat.appendChild(div);chat.scrollTop=chat.scrollHeight}function handleAIEnter(e){if(e.key==='Enter')sendAIMessage()}document.getElementById('browserView').addEventListener('click',()=>{console.log('Interactive browsing coming soon')});window.onload=()=>{renderTabs();loadURL('https://www.google.com')};</script></body></html>
